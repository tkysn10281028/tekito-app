package data

func UpdateAttendanceInfoByUserIdSQL() (stmt string) {
	return `
	UPDATE 
	ATTENDANCE_INFO 
	SET
		ACHIEVED_ATTENDANCE_DATE = ?,
		ACHIEVED_ATTENDANCE_TIME = ?,
		ACHIEVED_LEAVING_DATE = ?,
		ACHIEVED_LEAVING_TIME = ?
	WHERE USER_ID = ?
	`
}

func GetAttendanceInfoByUserIdAndDateSQL() (stmt string) {
	return `
	SELECT
		USER_ID,
		SCHEDULED_ATTENDANCE_DATE,
		SCHEDULED_LEAVING_DATE,
		ACHIEVED_ATTENDANCE_DATE,
		ACHIEVED_LEAVING_DATE,
		SCHEDULED_ATTENDANCE_TIME,
		SCHEDULED_LEAVING_TIME,
		ACHIEVED_ATTENDANCE_TIME,
		ACHIEVED_LEAVING_TIME
	FROM
		ATTENDANCE_INFO
		WHERE
        USER_ID = ?
    AND 
    NOT (
        SCHEDULED_ATTENDANCE_DATE != ?
        AND
        SCHEDULED_LEAVING_DATE != ?
    )

	`
}


func InsertAttendanceInfo()(stmt string){
	return`
	INSERT 
		INTO ATTENDANCE_INFO(	
			USER_ID
			,SCHEDULED_ATTENDANCE_DATE
			,SCHEDULED_LEAVING_DATE
			,SCHEDULED_ATTENDANCE_TIME
			,SCHEDULED_LEAVING_TIME
			,ACHIEVED_ATTENDANCE_DATE
			,ACHIEVED_LEAVING_DATE
			,ACHIEVED_ATTENDANCE_TIME
			,ACHIEVED_LEAVING_TIME
			,CREATE_USER
			,UPDATE_USER
			,CREATE_DATE_TIME
			,UPDATE_DATE_TIME
		)
		VALUES
		(
		?,
		?,
		?,
		?,
		?,
		?,
		?,
		?,
		?,
		?,
		?,
		now(),
		now()
		);
	`
}