package data

func UpdateAttendanceInfoByUserIdSQL() (stmt string) {
	return `
	UPDATE 
		ATTENDANCE_INFO
		SET
			ACHIEVED_ATTENDANCE_TIME = ?,
			ACHIEVED_LEAVING_TIME = ?,
			ATTEND_FLG = ?,
			LEAVE_FLG = ?
		WHERE
			USER_ID = ?
		AND 
			SCHEDULED_ATTENDANCE_DATE=?
	`
}

func GetAttendanceInfoByUserIdAndDateSQL() (stmt string) {
	return `
	SELECT
		USER_ID,
		SCHEDULED_ATTENDANCE_DATE,
		SCHEDULED_ATTENDANCE_TIME,
		SCHEDULED_LEAVING_TIME,
		ACHIEVED_ATTENDANCE_TIME,
		ACHIEVED_LEAVING_TIME,
		ATTEND_FLG,
		LEAVE_FLG
	FROM
		ATTENDANCE_INFO
		WHERE
        	USER_ID = ?
    	AND 
        	SCHEDULED_ATTENDANCE_DATE = ?
	`
}
func GetAttendanceInfoListSQL() (stmt string) {
	return `
	SELECT
		SCHEDULED_ATTENDANCE_DATE,
		SCHEDULED_ATTENDANCE_TIME,
		SCHEDULED_LEAVING_TIME,
		ACHIEVED_ATTENDANCE_TIME,
		ACHIEVED_LEAVING_TIME,
		ATTEND_FLG,
		LEAVE_FLG
	FROM
		ATTENDANCE_INFO
	WHERE 
		USER_ID = ?
	`
}

func UpsertScheduledAttendanceInfo()(stmt string)  {
	return `
	INSERT INTO 
		ATTENDANCE_INFO
		(
			USER_ID,
			SCHEDULED_ATTENDANCE_DATE,
			SCHEDULED_ATTENDANCE_TIME,
			SCHEDULED_LEAVING_TIME,
			ACHIEVED_ATTENDANCE_TIME,
			ACHIEVED_LEAVING_TIME,
			ATTEND_FLG,
			LEAVE_FLG,
			CREATE_USER,	
			UPDATE_USER,
			CREATE_DATE_TIME,	
			UPDATE_DATE_TIME
		)VALUES(
			?,
			?,
			?,
			?,
			null,
			null,
			0,
			0,
			?,
			?,
			now(),
			now()
			)
		ON DUPLICATE KEY 
	UPDATE 
		SCHEDULED_ATTENDANCE_TIME = ?,
		SCHEDULED_LEAVING_TIME = ?
	`
}